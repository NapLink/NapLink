import type { ApiClient } from '../../core/api-client';

/**
 * NapCatQQ ActionName 全量列表（服务端路由表）
 * - 可用于“完全覆盖”服务端 action，而不必在 SDK 里为每个 action 单独写一层包装。
 * - 对于包含 '.'/'_' 等前缀的 action，建议使用 bracket 访问：api.raw['.ocr_image'](...)
 */
export const NAPCAT_ACTIONS = [
    '.get_word_slices',
    '.handle_quick_operation',
    '.ocr_image',
    'ArkShareGroup',
    'ArkSharePeer',
    '_del_group_notice',
    '_get_group_notice',
    '_get_model_show',
    '_mark_all_as_read',
    '_send_group_notice',
    '_set_model_show',
    'bot_exit',
    'can_send_image',
    'can_send_record',
    'check_url_safely',
    'clean_cache',
    'clean_stream_temp_file',
    'click_inline_keyboard_button',
    'create_collection',
    'create_group_file_folder',
    'del_group_album_media',
    'delete_essence_msg',
    'delete_friend',
    'delete_group_file',
    'delete_group_folder',
    'delete_msg',
    'delete_unidirectional_friend',
    'do_group_album_comment',
    'download_file',
    'download_file_image_stream',
    'download_file_record_stream',
    'download_file_stream',
    'fetch_custom_face',
    'fetch_emoji_like',
    'forward_friend_single_msg',
    'forward_group_single_msg',
    'friend_poke',
    'get_ai_characters',
    'get_ai_record',
    'get_clientkey',
    'get_collection_list',
    'get_cookies',
    'get_credentials',
    'get_csrf_token',
    'get_doubt_friends_add_request',
    'get_essence_msg_list',
    'get_file',
    'get_forward_msg',
    'get_friend_list',
    'get_friend_msg_history',
    'get_friends_with_category',
    'get_group_album_media_list',
    'get_group_at_all_remain',
    'get_group_detail_info',
    'get_group_file_system_info',
    'get_group_file_url',
    'get_group_files_by_folder',
    'get_group_honor_info',
    'get_group_ignore_add_request',
    'get_group_ignored_notifies',
    'get_group_info',
    'get_group_info_ex',
    'get_group_list',
    'get_group_member_info',
    'get_group_member_list',
    'get_group_msg_history',
    'get_group_root_files',
    'get_group_shut_list',
    'get_group_system_msg',
    'get_guild_list',
    'get_guild_service_profile',
    'get_image',
    'get_login_info',
    'get_mini_app_ark',
    'get_msg',
    'get_online_clients',
    'get_private_file_url',
    'get_profile_like',
    'get_qun_album_list',
    'get_recent_contact',
    'get_record',
    'get_rkey',
    'get_rkey_server',
    'get_robot_uin_range',
    'get_status',
    'get_stranger_info',
    'get_unidirectional_friend_list',
    'get_version_info',
    'group_poke',
    'mark_group_msg_as_read',
    'mark_msg_as_read',
    'mark_private_msg_as_read',
    'move_group_file',
    'nc_get_packet_status',
    'nc_get_rkey',
    'nc_get_user_status',
    'ocr_image',
    'qidian_get_account_info',
    'reboot_normal',
    'reload_event_filter',
    'rename_group_file',
    'send_ark_share',
    'send_forward_msg',
    'send_group_ai_record',
    'send_group_ark_share',
    'send_group_forward_msg',
    'send_group_msg',
    'send_group_sign',
    'send_like',
    'send_msg',
    'send_packet',
    'send_poke',
    'send_private_forward_msg',
    'send_private_msg',
    'set_diy_online_status',
    'set_doubt_friends_add_request',
    'set_essence_msg',
    'set_friend_add_request',
    'set_friend_remark',
    'set_group_add_option',
    'set_group_add_request',
    'set_group_admin',
    'set_group_album_media_like',
    'set_group_anonymous',
    'set_group_anonymous_ban',
    'set_group_ban',
    'set_group_card',
    'set_group_kick',
    'set_group_kick_members',
    'set_group_leave',
    'set_group_name',
    'set_group_portrait',
    'set_group_remark',
    'set_group_robot_add_option',
    'set_group_search',
    'set_group_sign',
    'set_group_special_title',
    'set_group_todo',
    'set_group_whole_ban',
    'set_input_status',
    'set_msg_emoji_like',
    'set_online_status',
    'set_qq_avatar',
    'set_qq_profile',
    'set_restart',
    'set_self_longnick',
    'test_auto_register_01',
    'test_auto_register_02',
    'test_download_stream',
    'trans_group_file',
    'translate_en2zh',
    'unknown',
    'upload_file_stream',
    'upload_group_file',
    'upload_image_to_qun_album',
    'upload_private_file',
] as const;

export type NapCatAction = typeof NAPCAT_ACTIONS[number];

export type RawActionApi = {
    [K in NapCatAction]: (params?: any) => Promise<any>;
};

export function createRawActionApi(client: ApiClient): RawActionApi {
    const entries = NAPCAT_ACTIONS.map((action) => [
        action,
        (params?: any) => client.call(action, params ?? {}),
    ] as const);
    return Object.fromEntries(entries) as RawActionApi;
}

